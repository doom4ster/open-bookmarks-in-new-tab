
# Open Bookmarks in New Tab (Force)

當由 **書籤** 觸發導覽時，自動在 **新分頁** 開啟，並在批次（資料夾/群組）開啟時避免重複；同時嘗試還原原分頁。

## 功能
- 書籤點擊 → 改為新分頁開啟（可選前景/背景）。
- 資料夾/分頁群組批次開啟 → 自動去重。
- 無法後退時，若原分頁是空白/新分頁，可選擇直接關閉。

## 權限說明
- **webNavigation**：僅用於判斷導覽是否由書籤觸發（`transitionType: auto_bookmark`）。
- **tabs**：建立新分頁、避免重複開啟、必要時嘗試還原原分頁。
- **storage**：儲存使用者偏好與會話期暫存（不出網、不收集個資）。

## 設定
- 於 `選項頁`（Options）調整：
  - 「書籤在背景分頁開啟（不搶焦點）」。
  - 「無法後退時，若原分頁是空白/新分頁則直接關閉」。


## 開發備註（MV3）
- 背景程式為 **Service Worker**，事件驅動，不做保活。
- 使用 `chrome.storage.session` 管理短期狀態（SW 重啟不丟失）。
- 避免導向 `chrome://newtab`，改用 `about:blank` 或直接關閉。



## 變更
- v1.0.1：修正當從書籤資料夾「全部開啟」或「分頁群組」等情境導致 Chrome 自動新開多個分頁時，這些新分頁的導覽不再被擴充二次複製（避免重複開啟）。作法：偵測「剛建立的分頁」並略過。
- V1.0.2：重新調整 符合 Chrom Web Store 歸範，新增隱私權政策說明.md。